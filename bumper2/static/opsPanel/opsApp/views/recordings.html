<div class="wrapper wrapper-content ng-scope">
    <div class="ibox float-e-margins" id="">
        <div class="ibox-title">
            <h5>Call Recordings</h5>
        </div>
        <div class="ibox-content">
            <div class="row">
                <div class="col-sm-6 m-l-xs">
                    <div class="row">
                        <label>Phone Numbers:</label>
                        <div class="input-group">
                            <input
                                    type="text"
                                    placeholder="Phone nums(comma separated for more than one)"
                                    class="input-sm form-control" ng-model="recordingsCtrl.phoneNumbers">
                            <span class="input-group-btn">
                                <input
                                        type="button"
                                        class="btn btn-sm btn-primary"
                                        ng-disabled="recordingsCtrl.ajax_loading"
                                        ng-value="recordingsCtrl.ajax_loading?'Please Wait..':'Go!'"
                                        ng-click="recordingsCtrl.fetchRecordings()">
                            </span>
                        </div>
                    </div>
                </div>

                <div class="col-sm-5 m-l-xs">
                    <div class="row">
                        <label>Date Range:</label>
                        <div class="input-group text-left">
                            <input date-range-picker class="form-control date-picker input-sm " type="text" ng-model="recordingsCtrl.date"
                                   options="recordingsCtrl.date_range_options"/>
                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <h5>How to use:</h5>
                <ul>
                    <li>Enter comma separated numbers like 9742184343,919742184343,9632119602,919632119602</li>
                    <li>if you want to search XXXXXXXX number then enter both XXXXXXXX,91XXXXXXXX</li>
                    <li> In recording URL number of customer is there eg. 2016_09_17_16_23_33_<b>+919632119602</b>_866392029792177_OR.3gp</li>
                </ul>
            </div>
            <div class="row">
                <div class="col-sm-8 m-l-xs">
                    <table datatable="ng" class="table table-striped table-bordered table-hover dataTables-example table-responsive" style="height: 450px;">
                        <thead>
                        <tr>
                            <th class="text-center">Call time</th>
                            <th class="text-center">Duration</th>
                            <th class="text-center">Final Recording Url</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="item in recordingsCtrl.recordings">
                            <td class="text-center">{$ item.call_time $}</td>
                            <td class="text-center">{$ item.duration $}</td>
                            <td class="text-center">
                                <audio controls preload="none">
                                    <source ng-src="{$ item.full_path $}" type="audio/3gp">
                                    <source ng-src="{$ item.full_path $}" type="audio/mp3">
                                    Your browser does not support the audio element.
                                </audio>
                                <a target="_blank" ng-href="{$ item.full_path $}">open in new tab</a>
                                <br>
                                {$ item.final_recording_url $}
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>




